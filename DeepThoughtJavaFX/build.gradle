apply plugin: 'java'
apply plugin: 'kotlin'
apply plugin: 'application'


mainClassName = "net.dankito.deepthought.javafx.DeepThoughtJavaFXApplicationKt"

def title = 'Deep Thought'


sourceCompatibility = "1.8"
targetCompatibility = "1.8"


sourceSets {
    main.java.srcDirs += 'src/main/kotlin'
    test.java.srcDirs += 'src/test/kotlin/'

    main {
        resources {
            srcDirs = [ "src/main/java", "src/main/kotlin", "src/main/resources" ]
            includes = ["**/*.fxml"]
        }
    }
}


dependencies {
    compile project(':DeepThoughtJavaLogic')

    compile("no.tornado:tornadofx:$tornadoFXVersion", {
        exclude group: 'org.apache.httpcomponents', module: 'httpclient'
    })

    compile "no.tornado:tornadofx-controls:$tornadoFXControlsVersion"
    compile "org.controlsfx:controlsfx:$controlsFXVersion"
}


jar {
    manifest {
        attributes  'Main-Class': mainClassName,
                    'Implementation-Title': title,
                    'Implementation-Version': versionName
    }

    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}
