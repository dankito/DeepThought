apply plugin: 'java'
apply plugin: 'kotlin'
apply plugin: 'application'

apply plugin: 'kotlin-kapt'


mainClassName = "net.dankito.deepthought.javafx.DeepThoughtJavaFXApplicationKt"

def title = 'Deep Thought'


sourceCompatibility = "1.8"
targetCompatibility = "1.8"


sourceSets {
    main.java.srcDirs += [ 'src/main/kotlin', 'build/generated/source/kapt/main']
    test.java.srcDirs += [ 'src/test/kotlin', 'build/generated/source/kapt/test']

    main {
        resources {
            srcDirs = [ "src/main/java", "src/main/kotlin", "src/main/resources" ]
            includes = ["**/*.fxml"]
        }
    }
}


dependencies {
    compile project(':DeepThoughtJavaLogic')

    kapt "com.google.dagger:dagger-compiler:$daggerVersion"

    compile("no.tornado:tornadofx:$tornadoFXVersion", {
        exclude group: 'org.apache.httpcomponents', module: 'httpclient'
    })

    compile "no.tornado:tornadofx-controls:$tornadoFXControlsVersion"
    compile "org.controlsfx:controlsfx:$controlsFXVersion"
}


jar {
    manifest {
        attributes  'Main-Class': mainClassName,
                    'Implementation-Title': title,
                    'Implementation-Version': versionName
    }

    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
}
